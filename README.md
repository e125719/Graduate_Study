## 琉球大学構内における駐車未許可車両取り締まりシステムの構築および運用

### 目的
琉球大学では、構内での車両の駐車を許可制にしている。駐車許可申請を行った車両のみが敷地内での駐車を認められており、申請を行っていない車両は「駐車未許可車両」として３回の警告ののち、タイヤロックが施行される。

現在、それら未許可車両の取締は琉球大学職員が紙とペンで車両のナンバープレートを一つ一つ確認しながら行っている状況である。

本システムは、このアナログ形式である未許可車両の取り締まりを、タブレット端末とウェブサービス、データベースによるシステムとして構築・運用し、使用することで、作業の効率がどの程度向上するのかを検証する。

また、そのシステムの応用例を提案することで、より便利な技術として琉球大学および社会に貢献することを目指す。


### 使用者
今回構築するシステムでは、琉球大学で働く事務職員を主な使用者として設定する。

将来的には、本システムの様々な活用が考えられるため、コンピュータの知識が乏しい一般的なユーザでも扱えるようなシステムを目指す。


### 使用方法
- ウェブアプリケーション側
  1. 登録フォームを使用し、使用時までに駐車許可申請のあった車両のナンバー、駐車許可証の番号、所有者の学籍番号、学部・学科、氏名をサーバ上のデータベースに登録しておく。
  2. 新たに駐車許可の申請があれば、車両ナンバー、許可証番号、所有者の情報を登録フォームに沿って入力し、管理者パスワードを打つことで、データベースに追加する。
  3. 駐車許可期限の過ぎた駐車許可車両は、ウェブアプリケーションの削除フォームに許可証番号と管理者パスワードを入力することで、データベースから削除することができる。
  4. 駐車許可がなされている車両を一覧で表示、あるいは検索による特定の車両情報を表示する。その際は管理者権限を必要としないが、情報の追加や編集、削除を行うことはできない。


- タブレット端末側
  1. 取り締まり前に、インターネットにタブレット端末が接続されている状態で起動すると、車両登録情報がサーバ上のデータベースからExcel形式で自動ダウンロードされる。点検中はタブレット端末がオフライン状態でもよい。
  2. アプリケーション内でカメラを起動し、車両のナンバープレートを撮影する。
  3. 撮影した画像からナンバープレートの番号を文字列データとして抽出し、データベース内で検索をかけることで、その車両の駐車が許可されているかどうかを自動で判別する。
  4. 許可されていない車両ならば、その車両の注射回数を更新し、駐車が確認された回数に応じて、職員が警告あるいはタイヤロックを行う。
  5. 今まで確認していない、新たな駐車未許可車両を発見した場合は、Excel形式でダウンロードしていたデータにその車両ナンバーが追記される。
  6. 駐車場内の全車両の点検が終了のち、タブレット端末をインターネットに接続し、新たに追記された情報がサーバ上のデータベースへ自動アップロードされる。


### 入出力情報
##### ウェブアプリケーション側
入力情報
- 駐車許可申請のあった車両のナンバー
- 車両ナンバーに紐付けされた駐車許可証の番号
- 管理者パスワード

出力情報
- 駐車許可申請のあった車両のナンバー
- 車両ナンバーに紐付けされた駐車許可証の番号
- 駐車未許可車両のナンバー
- 駐車未許可車両の駐車回数

##### タブレット端末内アプリケーション側
入力情報
- 点検車両のナンバープレートを撮影した画像
- 画像データから抽出したナンバープレートの文字列データ
- 駐車未許可車両の駐車回数

出力情報
- 車両ナンバーの照合結果
- 駐車未許可車両の駐車回数


### 必要な機能
###### ウェブアプリケーション側
システム
- 駐車許可車両のナンバー及び駐車許可証の番号を保持するサーバ上のデータベース
- 駐車未許可車両の情報を保持するサーバ上のデータベース
- 車両情報の管理画面

入力
- 車両ナンバー及び駐車許可証番号の検索フォーム
- 駐車許可車両のナンバー及び駐車許可証番号の登録フォーム
- 車両情報の削除フォーム

出力
- データベースに登録済みの車両情報一覧
- 検索フォームに入力された車両ナンバー及び駐車許可証番号の、データベース内における検索結果

##### タブレット端末内アプリケーション側
システム
- データベース内容をExcel形式のファイルとして自動ダウンロードおよびアップロード
- 撮影画像から抽出した文字列をExcelファイル内のデータと照合

入力
- ナンバープレートを撮影した際の画像データ
- 画像データから文字列データの抽出
- 新たに発見した駐車未許可車両のナンバーをExcelファイルに追記(抽出した文字列データを使用)

出力
- 点検車両のナンバーとExcelファイル内のでーたとの照合結果
- 駐車未許可車両の駐車回数


### 機能が使用するデータ
- 管理者用パスワード
- 車両ナンバー
- 駐車許可証に記載されている番号
- 駐車未許可車両の駐車が確認された回数
